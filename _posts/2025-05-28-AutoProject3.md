---
layout: single
title:  "ìµœì¢… í”Œì "
categories: autoever
tag: 
author_profile: false #trueë©´ ê¸€ ì•ˆì—ì„œ ë‚´ í”„ë¡œí•„ ë³´ì—¬ì¤Œ
sidebar:
    nav: "counts"
#search: false
---

# vector í˜„ì§ìë¶„ë“¤

## ìë™ì°¨ ê´€ë ¨ íšŒì‚¬ë“¤

HMC, ìŒìš©, HLë§Œë„, í´ë˜ë¬´ë¸Œ, ëª¨ë¹„ìŠ¤(ì¸í¬, ADAS, ì™ ë§Œí•œê±° ë‹¤í•¨), ì¼€í”¼ì½”(ì œì–´ê¸° ë§Œë“¦), ìœ„ì•„, íŠ¸ëœì‹œìŠ¤, SL(ëŒ€êµ¬_ê²½ì‚°), LG(ì¸í¬), LS ì— íŠ¸ë¡ (íŠ¸ë™í„° ë§Œë“¦)

## ì§€ì‹

âœ… vECU(ê°€ìƒ ECU)   
ì‹œê°„ê³¼ ë¹„ìš©ì„ ì¤„ì´ë ¤ê³  ì‚¬ìš©   
   
âœ… MBD(Model-Based Design)   
ìš°ë¦¬ê°€ ì €ë²ˆì— ì‚¬ìš©í•œ matlab ì´ ëŒ€í‘œì ì¸ ì˜ˆì‹œ   
   
âœ… vehicle OS   
í•˜ë“œì›¨ì–´ëŠ” ë³€ê²½ ë˜ë”ë¼ë„ ìƒìœ„ SWëŠ” ì‚¬ìš©ë  ìˆ˜ ìˆê²Œí•¨   
   
âœ… FUSA(í“¨ì‚¬)   
Functional Safety. â€œì‹œìŠ¤í…œì´ ê³ ì¥ ë‚˜ë”ë¼ë„ ì‚¬ëŒì´ë‚˜ í™˜ê²½ì— ìœ„í—˜ì„ ì£¼ì§€ ì•Šë„ë¡ ì„¤ê³„í•˜ëŠ” ë°©ë²•ë¡  ë° í‘œì¤€â€ ì´ ì•ˆì— ASIL, HARA, Watchdog, ì •ì í…ŒìŠ¤íŠ¸ ë“±ì´ ìˆìŒ   
   
âœ… Zonal Architecture   
ì´ê²ƒ ë•ë¶„ì— ì „ì„ ëŸ‰ì´ 66í¼ì„¼íŠ¸ ì¤„ì—ˆë‹¤.   
   
âœ… HPC   
High Performence Computer_ ê·¸ë ‡ê²Œ í•´ì•¼ SW Definedí•  ìˆ˜ ìˆë‹¤. ëª°ë¹µí•´ì„œ í•´ì•¼ ì œì–´ê¸° ìˆ«ìë„ ì¤„ê³  ì—…ë°ì´íŠ¸ë„ ì¢‹ë‹¤. ë˜í•œ ë°ì´í„°ë¥¼ ëª°ë¹µí•´ì„œ í•´ì•¼ ì œì–´ê¸° ìˆ«ìë„ ì¤„ê³  ì—…ë°ì´íŠ¸ë„ ì¢‹ë‹¤.   

## í”„ë¡œì íŠ¸ì˜ ëª©í‘œ

âœ… í†µì‹    
ECU ê°„ì— í•„ìš”í•œ ì •ë³¼ë¥´ ì£¼ê³  ë°›ìœ¼ë©° ì œì–´ ë° ì•ˆì „í•œ ì£¼í–‰, íš¨ìœ¨ì ì¸ ë™ì‘ì„ ë‹¬ì„±í•¨   
í†µì‹ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”ì‹œì§€ì™€ Communication MatrixëŠ” DBì— ì •ì˜ë˜ì–´ ìˆìŒ   
   
âœ… ëª©í‘œ   
ì°¨ëŸ‰ í™˜ê²½ì„ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ êµ¬ì„±í•˜ê³ , ì°¨ëŸ‰ ì‹œìŠ¤í…œ ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì ìš©í•˜ì—¬ ì°¨ëŸ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ ë³´ëŠ” ê²ƒì´ ë³¸ í”„ë¡œì íŠ¸ì˜ ëª©ì    

# OTA

## ota ì„œë²„ ê°œë°œ ìˆœì„œ

```c
1. wsl --install ë¡œ ìš°ë¶„íˆ¬ ì„¤ì¹˜. + ì»´í“¨í„° ì¬ë¶€íŒ…
2. ubuntu ì•± ì‹¤í–‰
3. íŒŒì´ì¬ ì„¤ì¹˜
$ sudo apt get update
$ sudo apt install python3-pip

4. ê°€ìƒí™˜ê²½ ì„¤ì¹˜
$ sudo apt install python3.12-venv

5. ê°€ìƒí™˜ê²½ ì ‘ê·¼ í›„ flask ì„¤ì¹˜
$ python3 -m venv venv
$ source venv/bin/activate
$ pip install flask

6. ì˜ ì„¤ì¹˜ëëŠ”ì§€ í™•ì¸
$ which python
# â†’ /home/jw/venv/bin/python ì´ì–´ì•¼ ì •ìƒ
$ which pip
# â†’ /home/jw/venv/bin/pip ì´ì–´ì•¼ ì •ìƒ

7. ota_server.py ë§Œë“¤ê¸°
$ nano ota_server.py

8. ota_server.py ì½”ë“œ

from flask import Flask, send_file, jsonify
import os

app = Flask(__name__)
LATEST_VERSION = "v1.2.0"
SW_FILE = "latest_sw.bin"

@app.route('/check_update')
def check_update():
    return jsonify({"version": LATEST_VERSION})

@app.route('/download')
def download_file():
    return send_file(SW_FILE, as_attachment=True)

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)

ê·¸ë¦¬ê³  ctrl+o, ctrl+x ì¸ë° ì˜ ì•ˆë˜ë„¤.. ì¤‘ê°„ì— ì—”í„° ëˆŒë €ë˜ê±°ê°™ìŒ
ë˜í•œ latest_sw.bin íŒŒì¼ì„ ë§Œë“¤ì–´ë‘ë©´ë¨
```

## ota ì„œë²„ ê°œë°œ ê²°ê³¼

![ota](https://github.com/user-attachments/assets/4e8e7806-379f-4c04-a20e-0e33f0b1bdd8)   
ì´ë ‡ê²Œ ë˜ë©´ í˜„ì¬ ë‘ ê°€ì§€ ì£¼ì†Œë¡œ ì ‘ì† ê°€ëŠ¥í•˜ë‹¤.   
```c
1. ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš©
http://127.0.0.1:5000
â†’ ê°™ì€ ì»´í“¨í„° ì•ˆì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥

2. ì™¸ë¶€ ì¥ë¹„(HPCë“±) ì ‘ì†ìš©
http://172.19.206.171:5000
â†’ HPCì—ì„œ ì´ ì£¼ì†Œë¡œ ì ‘ì†í•˜ë©´ ë¨
```

## ota hpc ê°œë°œ ê³¼ì •

ìš°ë¶„íˆ¬ í„°ë¯¸ë„ì„ í•˜ë‚˜ ë” ë§Œë“ ë‹¤.   
```c
1. ota_hpc dir ì„¤ì •
$ mkdir ~/ota_hpc
$ cd ~/ota_hpc
$ pip install requests

2. íŒŒí‹°ì…˜ ë§Œë“¤ê¸°
$ mkdir -p ~/ota_hpc/a_partition
$ mkdir -p ~/ota_hpc/b_partition
$ echo "v1.0.0" > ~/ota_hpc/b_partition/version.txt

3. íŒŒì¼ ì €ì¥
$ nano ota_client.py

import requests
import os

# ì„œë²„ IP ì£¼ì†Œ (ê°™ì€ WSLì´ë©´ localhost ë˜ëŠ” 127.0.0.1)
SERVER_IP = "127.0.0.1"
PORT = 5000

# ì €ì¥ ìœ„ì¹˜: a íŒŒí‹°ì…˜ ì—­í• 
DOWNLOAD_PATH = "/home/jw/ota_hpc/a_partition/latest_sw.bin"
CURRENT_VERSION_FILE = "/home/jw/ota_hpc/b_partition/version.txt"

def get_current_version():
    if not os.path.exists(CURRENT_VERSION_FILE):
        return "v0.0.0"
    with open(CURRENT_VERSION_FILE, "r") as f:
        return f.read().strip()

def check_for_update():
    try:
        resp = requests.get(f"http://{SERVER_IP}:{PORT}/check_update")
        return resp.json()["version"]
    except Exception as e:
        print("ì—…ë°ì´íŠ¸ í™•ì¸ ì‹¤íŒ¨:", e)
        return None

def download_update():
    try:
        resp = requests.get(f"http://{SERVER_IP}:{PORT}/download")
        os.makedirs(os.path.dirname(DOWNLOAD_PATH), exist_ok=True)
        with open(DOWNLOAD_PATH, "wb") as f:
            f.write(resp.content)
        print("ğŸ“¦ ì—…ë°ì´íŠ¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ:", DOWNLOAD_PATH)
    except Exception as e:
        print("âŒ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:", e)

if __name__ == "__main__":
    current = get_current_version()
    latest = check_for_update()

    print(f"ğŸ” í˜„ì¬ ë²„ì „: {current}")
    print(f"ğŸŒ ì„œë²„ ìµœì‹  ë²„ì „: {latest}")

    if latest and current != latest:
        print("â¬‡ï¸ ì—…ë°ì´íŠ¸ í•„ìš”. ë‹¤ìš´ë¡œë“œ ì‹œì‘...")
        download_update()
    else:
        print("âœ… ìµœì‹  ìƒíƒœì…ë‹ˆë‹¤. ì—…ë°ì´íŠ¸ ë¶ˆí•„ìš”.")

4. partition aë¡œ ë‹¤ìš´
ì„œë²„ì—ì„œ ì½”ë“œ ì‹¤í–‰ëœ ìƒíƒœì—ì„œ hpc ì‹¤í–‰í•˜ë©´ a partition ì— ì½”ë“œ ì €ì¥ë¨.

5. 
```

# Flash_Programming ì˜ˆì œ ì½”ë“œ

## writeProgramFlash

1. ì‹¤í–‰ ì¤‘ì¸ PFLASHì— ì½”ë“œë¥¼ ë®ì–´ì“°ì§€ ì•Šë„ë¡ ë°©ì§€   
AURIX TC275ëŠ” í”Œë˜ì‹œ ë©”ëª¨ë¦¬(PFLASH)ì— ì €ì¥ëœ ì½”ë“œì—ì„œ ì‹¤í–‰ëœë‹¤. ê·¸ëŸ°ë° í”Œë˜ì‹œ ì“°ê¸°/ì§€ìš°ê¸° ì‘ì—… ì¤‘ì—ëŠ” í”Œë˜ì‹œë¥¼ ë™ì‹œì— ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤. 
ë§Œì•½ í”Œë˜ì‹œì— ìˆëŠ” í•¨ìˆ˜ë¥¼ ì´ìš©í•´ PFLASHë¥¼ ì§€ìš°ê±°ë‚˜ ì“°ë©´, ê·¸ ìˆœê°„ í•¨ìˆ˜ ì½”ë“œê°€ ë‚ ì•„ê°€ë©´ì„œ Trap ì´ ë°œìƒí•œë‹¤. ê·¸ë˜ì„œ í”Œë˜ì‹œì— ìˆëŠ” í•¨ìˆ˜ë“¤ì„ RAM(PSPR)ìœ¼ë¡œ ë³µì‚¬í•´ì„œ ê±°ê¸°ì„œ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ì´ë‹¤.   
